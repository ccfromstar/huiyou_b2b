<div style="width:960px;background-color: #FFFFFF;margin:0 auto;">
    <table style="width: 400px;margin-top: 0px;" border="0" cellspacing="0">
                     <tr>
                         <td class="tdfooter1"  id="n1" onclick="window.location='loading?page=optionorderall'">分销商订单</td>
                         <td class="tdfooter1" id="n2" onclick="window.location='loading?page=optionordersellall'">供应商订单</td>
                         <td class="tdfooter1" id="n2" style="background-color: #F7861E;color:#FFFFFF" onclick="window.location='loading?page=marketall'">供应信息</td>
                         <td class="tdfooter1" id="n2" onclick="window.location='loading?page=marketbuyall'">需求信息</td>
                     </tr>
                 </table>
                 <div style="background-image: url('/images/ora.jpg');width: 100%;height: 3px;"></div>
<div id="buy2">
    <img src="/images/lastminutefa.png" />
<table style="display: none">
    <tr>
        <td>
            <img style="margin-top: 20px;" src="/images/fa222.png" />
        </td>
        <td>
            <img id="jian1" src="/images/orangeright.gif" style="width: 35px;margin-top: 70px;" />
        </td>
    </tr>
</table>
    <form method="post" enctype="multipart/form-data">


    <table style="width: 100%;margin-top:0px;" border="0" cellspacing="0">
        <tr style="height: 6px;display:none">
            <td colspan="3" style="background-image: url('/images/orange.png')">
        </tr>
    </table>
    <div style="width: 100%;height: 275px;background-color: #F2F0F5">
        <div style="padding-left: 20px;padding-top: 20px;font-weight: bold">
            <span style="color:#F68421">*</span><span>邮轮名称：
              <select style="width:145px" id="ship_id1" name="ship_id1">
                  <option value="*"></option>
                  <%
                  for (var i in cruiseship) {
                  %>
                  <option value="<%=cruiseship[i].id%>"><%=cruiseship[i].txtShipName%></option>
                  <%
                  }
                  %>
              </select></span>
              <span style="margin-left: 20px;"><span style="color:#F68421">*</span>出航日期：
              <input type="text" readonly class="Wdate" onfocus="WdatePicker({minDate:'%y-%M-{%d+1}',doubleCalendar:true,dateFmt:'yyyy-MM-dd'})"   name="departure_date" title="单击选择日期" id="departure_date" style="width: 99px;cursor:pointer"></input></span>
            <span style="margin-left: 20px;"><span style="color:#F68421">*</span><input type="text" name="day" id="days" style="width: 25px;" /> 天 <input id="wan" type="text" style="width: 25px;" /> 晚 </span>
              <span style="margin-left: 20px;"><span style="color:#F68421">*</span>航线：
                  <input type="text" onkeyup="jsAutoInstance.handleEvent(this.value,'cruise_route',event)" name="cruise_route" id="cruise_route" style="width: 295px;" /></span>

        </div>
        <div style="padding-left: 20px;padding-top: 0px;font-weight: bold">
            <span style="color:#F68421">*</span><span>舱房类型：
                <select style="width:145px" id="cabin_category_id" name="cabin_category_id">
                    <%
                    var q1 = "";var q2 = "";var q3 = ""

                            for (var i in cabin_category) {
                        if(q1==""){
                            q1 = cabin_category[i].txtShipNo;
                            q2 = cabin_category[i].txtCabinName;
                            q3 = cabin_category[i].id;
                        }else{
                            q1 = q1 + "@"+cabin_category[i].txtShipNo;
                            q2 = q2 + "@"+cabin_category[i].txtCabinName;
                            q3 = q3 + "@"+cabin_category[i].id;
                        }
                    %>
                    <option value="<%=cabin_category[i].id%>"><%=cabin_category[i].txtCabinName%></option>
                    <%
                    }
                    %>
                </select>
            </span>
            <span style="margin-left: 20px;">数量：<input type="text" name="amount" id="amount" /></span>
            <span style="margin-left: 20px;"><span style="color:#F68421">*</span>现价：<input type="text" style="width: 120px;" name="price_now" id="price_now" /> 元/人</span>
            <span style="margin-left: 20px;">原价：<input type="text" style="width: 120px;" name="price_old" id="price_old" /> 元/人</span>
        </div>
        <div style="padding-left: 20px;padding-top: 0px;font-weight: bold">&nbsp;产品描述:<textarea name="description" id="description" style="width: 96%;" rows="4"></textarea></div>
        <div style="width: 100%;padding-left: 20px;padding-top: 0px;font-weight: bold">
            <table style="width: 94%" border="0">
                <tr style="line-height: 20px;">
                    <td>
                        上传图片：<input id='img_url' name='img_url' type="file" >
                        <br/>
                        <span style="color:#F68421">让你的产品更醒目，快去上传产品海报吧。最大上传大小为3MB，支持上传类型：jpg bmp</span>
                    </td>
                    <td style="text-align: right;width: 285px;vertical-align:bottom">
                        <img onclick="window.location='loading?page=market';window.parent.htotop();" style="cursor:pointer;margin-left: 0px;" src="/images/retune.png" />

                        <img onclick="sellpublish()" style="cursor:pointer;margin-left: 20px;" src="/images/pulish.png" />
                    </td>
                </tr>
            </table>

        </div>
    </div>

    </div>

    <div id="buy1">
        
  
    <div style="margin-top: 12px;width: 100%;height: 40px;display: none">
        <table style="width: 100%;background-color: #F7861E" border="0">
            <tr>
                <td style="height: 45px;vertical-align: middle;width: 846px;">
                    <input  onFocus="if(value==defaultValue){value='';this.style.color='#000'}" onBlur="if(!value){value=defaultValue;this.style.color='#999'}" onkeydown="if(event.keyCode==13){document.forms[0].submit();}" type="text" name="skey" style="width: 800px;margin-left: 20px;margin-top: 0px;color:#999999" value="搜：邮轮名称 / 目的地 / 舱房名称 / 出发日期 ……" />
                </td>
                <td style="text-align: left">
                    <img onclick="document.forms[0].submit();" style="padding-top:14px;cursor: pointer" src="images/sou.png">
                    <div style="display:none;line-height:22px;cursor:pointer;margin-left: 20px;margin-top: 5px;width: 50px;background-color: #0068BD;color:#FFFFFF;font-weight: bold;text-align: center" onclick="document.forms[0].submit();">搜！</div>
                </td>
            </tr>
        </table>
    </div>

        <table style="width: 100%;margin-top:2px;background-color: #F7861E" border="0" cellspacing="0">

            <tr style="font-weight: bold;height: 45px;">
                <td style="vertical-align: middle"><span style="margin-left: 10px;color: #FFFFFF;">
                        <select name="datStart" style="width: 140px;">
                            <option value="*">出发日期</option>
                            <%
                            var myDate = new Date();
                            var tyear = myDate.getFullYear();
                            var nummonth = myDate.getMonth();
                            var tmonth = "";
                            var nyear =  tyear + 1;
                                    for(var i=nummonth+1;i<13;i++){
                                tmonth = i;
                                if(tmonth!="12"&&tmonth!="11"&&tmonth!="10"){
                                    tmonth = "0" + tmonth;
                                }
                                    if(datstart == tyear+"-"+tmonth)
                            {
                            %>
                            <option selected value="<%=tyear+"-"+tmonth%>"><%=tyear+"年"+tmonth+"月"%></option>
                            <%
                            }
                            else{
                            %>
                            <option value="<%=tyear+"-"+tmonth%>"><%=tyear+"年"+tmonth+"月"%></option>
                            <%
                            }
                            }
                                    if(datstart == nyear)
                            {
                            %>
                            <option selected value="<%=nyear%>"><%=nyear+"年"%></option>
                            <%
                            }
                            else{
                            %>
                            <option value="<%=nyear%>"><%=nyear+"年"%></option>
                            <%}%>
                        </select></span></td>
                <td style="vertical-align: middle"><span style="margin-left: 10px;color: #FFFFFF;">
                        <select name="cf" style="width: 140px;">
                            <option value="*">舱房</option>
                            <%
                            var x1 = "";
                            var x2 = "";
                            var x3 = "";
                            var x4 = "";
                            var x5 = "";
                            if(cf=="內舱"){
                                x1 = "selected";
                            }else if(cf=="皇家大道景观"){
                                x2 = "selected";
                            }else if(cf=="海景"){
                                x3 = "selected";
                            }else if(cf=="阳台"){
                                x4 = "selected";
                            }else if(cf=="套房"){
                                x5 = "selected";
                            }
                             %>
                            <option <%=x1%> value="內舱">內舱</option>
                            <option <%=x2%> value="皇家大道景观">皇家大道景观</option>
                            <option <%=x3%> value="海景">海景</option>
                            <option <%=x4%> value="阳台">阳台</option>
                            <option <%=x5%> value="套房">套房</option>
                        </select></span></td>
                <td style="vertical-align: middle"><span style="margin-left: 10px;color: #FFFFFF;">
                        <select name="mdd" style="width: 140px;">
                            <option value="*">目的地</option>
                            <%
                            var md = "";
                            for (var i in presetschedule) {
                            if(presetschedule[i].port_city_name!=md){
                                if(presetschedule[i].port_city_name==mdd){
                            %>
                            <option selected value="<%=presetschedule[i].port_city_name%>"><%=presetschedule[i].port_city_name%></option>
                            <%
                                }else{
                            %>
                            <option value="<%=presetschedule[i].port_city_name%>"><%=presetschedule[i].port_city_name%></option>
                            <%
                            }
                            md = presetschedule[i].port_city_name;
                            }
                            }
                            %>
                        </select></span></td>
                <td style="vertical-align: middle"><span style="margin-left: 10px;color: #FFFFFF;">
                        <select style="width:140px" id="txtCuriseCompany" name="txtCuriseCompany">
                            <option value="*">邮轮公司</option>
                            <%
                            for (var i in cruisecompany) {
                                if(cruisecompany[i].txtCompanyNo==txtCuriseCompany){
                            %>
                            <option selected value="<%=cruisecompany[i].txtCompanyNo%>"><%=cruisecompany[i].txtCompanyName%></option>
                            <%
                                }else{
                            %>
                            <option value="<%=cruisecompany[i].txtCompanyNo%>"><%=cruisecompany[i].txtCompanyName%></option>
                            <%
                            }
                            }
                            %>
                        </select>
                    </span></td>
                <td style="vertical-align: middle"><span style="margin-left: 10px;color: #FFFFFF;">
                        <select id="ship_id" name="ship_id" style="width: 140px;">
                            <option value="-">邮轮名称</option>
                            <%
                            for (var i in cruiseship) {
                                if(cruiseship[i].id==ship_id){
                            %>
                            <option selected value="<%=cruiseship[i].id%>"><%=cruiseship[i].txtShipName%></option>
                            <%
                                }else{
                            %>
                            <option value="<%=cruiseship[i].id%>"><%=cruiseship[i].txtShipName%></option>
                            <%
                            }}
                            %>
                        </select></span></td>
                <td style="vertical-align: middle"><img style="padding-top:14px;cursor: pointer" onclick="document.all.numStart.value = 0;document.forms[0].submit();" src="images/sou.png"><div style="display:none;height:25px;cursor:pointer;margin-left: 40px;margin-top: 0px;width: 70px;background-color: #0068BD;color:#FFFFFF;font-weight: bold;text-align: center;line-height: 25px;">搜！</div></td>
            </tr>
        </table>
    <div style="width: 100%;text-align: right;margin-top: 10px;">
        <select name="pse2" id="pse2">
            <option value="*">选择排序</option>
            <%if(pse2=="1"){%>
            <option selected value="1">结算价格由低到高</option>
            <%
            }else{
            %>
            <option value="1">结算价格由低到高</option>
            <%
            }
            %>
            <%if(pse2=="2"){%>
            <option selected value="2">出发日期由近到远</option>
            <%
            }else{
            %>
            <option value="2">出发日期由近到远</option>
            <%
            }
            %>
            <%if(pse2=="3"){%>
            <option selected value="3">发布日期由近及远</option>
            <%
            }else{
            %>
            <option value="3">发布日期由近及远</option>
            <%
            }
            %>
        </select>

   
    <table style="width: 100%;margin-top:0px;" border="0" cellspacing="0">
        <tr style="height: 6px;">
            <td colspan="3" style="background-image: url('/images/orange.png')">
        </tr>
    </table>

    <%
    for(var i in supply){
    %>

    <table style="width: 100%;margin-top:20px;"  border="0" cellspacing="0">
        <tr style="height: 3px;">
            <td colspan="3" style="background-image: url('/images/orange.png')">
        </tr>
    </table>
    <table class="pclass" style="height:190px;border:2px solid #ABBBBB;border-top:none;width: 100%;border-collapse: collapse;"  cellspacing="0" cellpadding="0">
        <tr style="line-height: 18px;height: 18px;">
            <td rowspan="2" style="width: 160px;text-align: center">
                <img src="files/<%=supply[i].logo%>" style="width: 100px;padding-top: 20px;" /><br/>
                <%=supply[i].short_name%><br/>
                <b><%=supply[i].name%></b><br/>
                <div style="margin-top: 5px;"><%=(new Date(supply[i].published_at)).Format("yyyy-MM-dd hh:mm:ss")+"".substring(0,16)%> 发布</div><br/>
            </td>
            <td style="padding-left: 5px;vertical-align: middle;padding-top: 0px;height: 10px;text-align: left">
                <%var m = "";
                var d = "";
                  var b = (new Date(supply[i].departure_date)).Format("yyyy-MM-dd hh:mm:ss")+"";
                  m = b.substring(5,7);
                    d = b.substring(8,10);
                %>
                &nbsp;&nbsp;<%=m%>月<%=d%>日&nbsp;&nbsp;
                <%=supply[i].txtShipName%>&nbsp;&nbsp;
                <%=Number(supply[i].days)-1%>晚<%=supply[i].days%>天&nbsp;&nbsp;
                <%=supply[i].cruise_route%>
                &nbsp;&nbsp;&nbsp;
                <%
                    var dat1c = (new Date(supply[i].created_at)).Format("yyyy-MM-dd");
                    var myDate = new Date();
                    var m = myDate.getMonth()+1;
                    m = m +"";
                    if(m.length==1){
                        m = "0" + m;
                    }
                    var d = myDate.getDate();
                    d= d +"";
                    if(d.length==1){
                        d = "0" + d;
                    }
                    var d2 = myDate.getFullYear()+"-"+m+"-"+d;
                        if(dat1c == d2){%>
                <img src="/images/45.gif" />
                <%}%>
            </td>
            <td style="padding-left: 5px;vertical-align: middle;padding-top: 0px;width: 135px;text-align: left">
                <%
                    var b = supply[i].txtCabinName;
                    if(!b){b="多种舱房类型";}%>
                <span style="margin-left: 5px;"><%=b%>&nbsp;&nbsp;&nbsp;&nbsp;
                    <%
                        var a = supply[i].amount;
                        if(a=="-1"){a="不限";}%>
                </span>
            </td>
            <td style="padding-left: 5px;vertical-align: middle;padding-top: 0px;width: 80px;text-align: left">
                <%
                    var b = supply[i].txtCabinName;
                    if(!b){b="多种舱房类型";}%>
                <span style="margin-left: 5px;">
                    <%
                        var a = supply[i].amount;
                        if(a=="-1"){a="不限";}%>
                    数量:<%=a%></span>
            </td>
            <td rowspan="2" style="width: 140px;text-align: center;padding-left: 5px;">
                <br/>
                <span style="text-decoration: line-through;">原价：<%=supply[i].price_old%> 元/人</span><br/>
                <span style="font-size: 14px;font-weight: bold;color:#F7861E">现价：<%=supply[i].price_now%> 元/人</span><br/>
                <%
                    var s = 100*Number(supply[i].price_now)/Number(supply[i].price_old)+"";
                    var str = s.substring(0,s.indexOf(".") + 3);
                    if(str=="In"){str = "0";}
                    if(supply[i].price_now==supply[i].price_old){str = "100";}
                %>
                折扣: <%= Math.round(Number(str))%>%
                <br/><br/>
                状态：<%if(supply[i].status_id == 2){%><span style="color:#65A2D4;font-weight: bold">在售</span><%}%>
                <%if(supply[i].status_id == 3){%><span style="color:#ff0000;font-weight: bold">停售</span><%}%>
                <%if(supply[i].status_id == 3){%><span style="color:#65A2D4;font-weight: bold">后台删除</span><%}%>
                <br/>
                <a style="cursor:pointer" onclick="$('#docid').val(<%=supply[i].id%>);document.forms[0].submit();">删除</a>
            </td>
        </tr>
        <tr style="line-height: 20px;">
            <td style="padding:15px;vertical-align: top;height: 70px;text-align: left" colspan="2">
                <b id="mxd<%=i%>">产品详情</b><br/>
                <span id="xiaoC<%=i%>"><%=(supply[i].description).replace(/\n/g,"<br/>")%></span>
            </td>
            <td style="width: 100px;text-align: center;vertical-align: top;padding-top:13px;">

                <b>海报</b><br/>
                <%
                    var tmpc = (supply[i].img_url).split(".");
                if(tmpc[1]==""){
                %>
                暂无
                <%}else{%>
                (点击放大)<br/>
                <img title="点击放大" id="mxc<%=i%>" style="width: 80px;height: 80px;cursor: pointer"  onclick="hovmx(<%=i%>);" src="files/<%=supply[i].img_url%>" />
                <%}%>

            </td>
        </tr>
    </table>

        <img id="mx<%=i%>"  style="overflow:auto;border:1px solid #111;display:none;width:542px;background-color:#FFFFFF;z-index:9999;position:absolute;top:0px;padding: 0px;" style="width: 542px;" src="files/<%=supply[i].img_url%>" />

    <%
    }
    %>
    <br/>

        <table style="width: 100%">
            <tr>
                <td style="text-align: center;font-size: 12px;"><img src="images/previours_page.png" style="cursor: pointer;margin-bottom:-5px" onclick="onPreviousPageClicked(<%=1+(numStart-1)/6%>);window.parent.htotop();" title="上一页"/>
                    &nbsp;第&nbsp;<input style="width: 25px;text-align: center" type="text" id="numNo1" value="<%=1+(numStart)/6%>" onchange="onPageValueChanged(<%=Math.ceil(total/6)%>);window.parent.htotop();" />&nbsp;页
                    &nbsp;共<%=Math.ceil(total/6)%>页&nbsp;<%=total%>条记录
                    <img src="images/next_page.png" style="margin-bottom:-5px;padding-left: 5px;cursor: pointer" onclick="onNextPageClicked(<%=1+(numStart-1)/6%>, <%=Math.ceil(total/6)%>);window.parent.htotop();" title="下一页"/>
                </td>
            </tr>

        </table>
        <br/>
        </div>

        <input type="hidden" name="owner_id" value="<%=user[0].id%>" />
        <input type="hidden" name="numStart"  value="<%=numStart%>" ></input>
        <input type="hidden" name="sType" id="sType"  ></input>
        <input type="hidden" name="sType1" id="sType1"  ></input>
        <%
        function getNow(){
            var date = new Date(); //日期对象
            var now = "";
            now = date.getFullYear()+"";
            now = now + (date.getMonth()+1)+"";//取月的时候取的是当前月-1如果想取当前月+1就可以了
            now = now + date.getDate()+"";
            now = now + date.getHours()+"";
            now = now + date.getMinutes()+"";
            now = now + date.getSeconds()+"";
            return now;
        }
        var shipNo = "";
        var shipName = "";
        var shipComNo = "";
        var shipNum = "";
        for (var i in cruiseship) {
            if(shipNo == ""){
                shipNo =  cruiseship[i].id;
                shipName =  cruiseship[i].txtShipName;
                shipComNo = cruiseship[i].txtCompanyNo;
                shipNum =  cruiseship[i].txtShipNo;
            }else{
                shipNo =  shipNo+";"+cruiseship[i].id;
                shipName = shipName+";"+cruiseship[i].txtShipName;
                shipComNo = shipComNo+";"+cruiseship[i].txtCompanyNo;
                shipNum =  shipNum+";"+cruiseship[i].txtShipNo;
            }
        }
        %>
        <input type="hidden" name="unid" value="<%=getNow()%>"></input>
    <input type="hidden" id="shipNo" value="<%=shipNo%>" />
    <input type="hidden" id="shipName" value="<%=shipName%>"  />
    <input type="hidden" id="shipComNo" value="<%=shipComNo%>"  />
    <input type="hidden" id="shipNum" value="<%=shipNum%>"  />
    <input type="hidden" id="ch1" value="<%=q1%>" />
    <input type="hidden" id="ch2" value="<%=q2%>" />
    <input type="hidden" id="ch3" value="<%=q3%>" />
    <input type="hidden" name="orderby1" id="orderby1" />
    <input type="hidden" id="docid" name="docid" />
    
    </form>
    <br/> 
</div>
<style>
    #divc {
        border:1px solid #555;
    }
    .des {
        width:500px;
        background-color:lightyellow;
        border:1px solid #555;
        padding:25px;
        margin-top:25px;
    }
    #divc .mouseover {
        color:#ffffff;
        background-color:highlight;
        width:100%;
        cursor:default;
    }
    #divc .mouseout {
        color:#000;
        width:100%;
        background-color:#ffffff;
        cursor:default;
    }
</style>
<SCRIPT LANGUAGE="JavaScript">
    <!--
    function jsAuto(instanceName,objID)
    {
        this._msg = [];
        this._x = null;
        this._o = document.getElementById( objID );
        if (!this._o) return;
        this._f = null;
        this._i = instanceName;
        this._r = null;
        this._c = 0;
        this._s = false;
        this._v = null;
        this._o.style.visibility = "hidden";
        this._o.style.position = "absolute";
        this._o.style.zIndex = "9999";
        this._o.style.overflow = "auto";
        this._o.style.height = "50";
        return this;
    };

    jsAuto.prototype.directionKey=function() { with (this)
    {
        var e = _e.keyCode ? _e.keyCode : _e.which;
        var l = _o.childNodes.length;
        (_c>l-1 || _c<0) ? _s=false : "";

        if( e==40  &&  _s )
        {
            _o.childNodes[_c].className="mouseout";
            (_c >= l-1) ? _c=0 : _c ++;
            _o.childNodes[_c].className="mouseover";
        }
        if( e==38  &&  _s )
        {
            _o.childNodes[_c].className="mouseout";
            _c--<=0 ? _c = _o.childNodes.length-1 : "";
            _o.childNodes[_c].className="mouseover";
        }
        if( e==13 )
        {
            if(_o.childNodes[_c]  &&  _o.style.visibility=="visible")
            {
                _r.value = _x[_c];
                _o.style.visibility = "hidden";
            }
        }
        if( !_s )
        {
            _c = 0;
            _o.childNodes[_c].className="mouseover";
            _s = true;
        }
    }};

    // mouseEvent.
    jsAuto.prototype.domouseover=function(obj) { with (this)
    {
        _o.childNodes[_c].className = "mouseout";
        _c = 0;
        obj.tagName=="DIV" ? obj.className="mouseover" : obj.parentElement.className="mouseover";
    }};
    jsAuto.prototype.domouseout=function(obj)
    {
        obj.tagName=="DIV" ? obj.className="mouseout" : obj.parentElement.className="mouseout";
    };
    jsAuto.prototype.doclick=function(msg) { with (this)
    {
        if(_r)
        {
            _r.value = msg;
            _o.style.visibility = "hidden";
        }
        else
        {
            alert("javascript autocomplete ERROR :\n\n can not get return object.");
            return;
        }
    }};

    // object method;
    jsAuto.prototype.item=function(msg)
    {
        if( msg.indexOf(",")>0 )
        {
            var arrMsg=msg.split(",");
            for(var i=0; i<arrMsg.length; i++)
            {
                arrMsg[i] ? this._msg.push(arrMsg[i]) : "";
            }
        }
        else
        {
            this._msg.push(msg);
        }
        this._msg.sort();
    };
    jsAuto.prototype.append=function(msg) { with (this)
    {
        _i ? "" : _i = eval(_i);
        _x.push(msg);
        var div = document.createElement("DIV");
        //bind event to object.
        div.onmouseover = function(){_i.domouseover(this)};
        div.onmouseout = function(){_i.domouseout(this)};
        div.onclick = function(){_i.doclick(msg)};
        var re  = new RegExp("(" + _v + ")","i");
        div.style.lineHeight="140%";
        div.className = "mouseout";
        if (_v) div.innerHTML = msg.replace(re , "<strong>$1</strong>");
        div.style.fontFamily = "verdana";

        _o.appendChild(div);
    }};
    jsAuto.prototype.display=function() { with(this)
    {
        if(_f && _v!="")
        {
            _o.style.left = _r.offsetLeft;
            _o.style.width = _r.offsetWidth;
            _o.style.top = _r.offsetTop + _r.offsetHeight;
            _o.style.visibility = "visible";
        }
        else
        {
            _o.style.visibility="hidden";
        }
        var o1 = document.body.clientWidth;
        var m1 = o1-960;
        $("#divc").css("left",$("#cruise_route").offset().left);
        $("#divc").css("top",$("#cruise_route").offset().top+18);
    }};
    jsAuto.prototype.handleEvent=function(fValue,fID,event) { with (this)
    {
        var re;
        _e = event;
        var e = _e.keyCode ? _e.keyCode : _e.which;
        _x = [];
        _f = false;
        _r = document.getElementById( fID );
        _v = fValue;
        _i = eval(_i);
        re = new RegExp("^" + fValue + "", "i");
        _o.innerHTML="";

        for(var i=0; i<_msg.length; i++)
        {
            if(re.test(_msg[i]))
            {
                _i.append(_msg[i]);
                _f = true;
            }
        }

        _i ? _i.display() : alert("can not get instance");

        if(_f)
        {
            if((e==38 || e==40 || e==13))
            {
                _i.directionKey();
            }
            else
            {
                _c=0;
                _o.childNodes[_c].className = "mouseover";
                _s=true;
            }
        }
    }};
    window.onerror=new Function("return true;");
    //-->
</SCRIPT>
</HEAD>

<BODY>
<div id="divc">
    <!--this is the autocomplete container.-->
</div>

<SCRIPT LANGUAGE="JavaScript">
    <!--
    var jsAutoInstance = new jsAuto("jsAutoInstance","divc");
    <%
    var line = "";
    for(var i in pline){
        if(line==""){
              line = pline[i].name;
        }else{
              line = line + "," + pline[i].name;
        }
    }
    %>
    jsAutoInstance.item("<%=line%>");
    jsAutoInstance.item("BlueMiracle,Blue");
    jsAutoInstance.item("angela,geniuslau");
    jsAutoInstance.item("never-online");
    //-->
</SCRIPT>